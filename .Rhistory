labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Histograma de hombres y mujeres solteros(as)") +
theme_minimal()
print(g3)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
View(muestra_hogares)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
View(muestra_hogares)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo == "Soltero(a)", region, ecivil)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
if (!require(dplyr)) {
install.packages("dplyr", dependencies = TRUE)
require(dplyr)
}
if (!require(dplyr)) {
install.packages("dplyr", dependencies = TRUE)
require(dplyr)
}
if (!require(ggpubr)) {
install.packages("ggpubr", dependencies = TRUE)
require(ggpubr)
}
if(!require(tidyr)){
install.packages("tidyr", dependencies = TRUE)
require(tidyr)
}
if(!require(WRS2)){
install.packages("tidyr", dependencies = TRUE)
require(WRS2)
}
# Cargar datos
datos <- read.csv2(file.choose(), stringsAsFactors = TRUE)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Veamos ahora el histograma de los datos de personas solteras en todas las regiones.
g3 <- ggplot(muestra_hogares, aes(x = region, fill = sexo)) +
geom_bar() +
facet_grid(~ sexo) +
labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Histograma de hombres y mujeres solteros(as)") +
theme_minimal()
print(g3)
# Se obtiene los datos referentes a hombres solteros de la Región Metropolitana
# de acuerdo a la muestra obtenida anteriormente
hombres_solteros_rm <- muestra_hogares %>% filter(sexo == "Hombre" &
ecivil == "Soltero(a)" &
region == "Region Metropolitana de Santiago")
# Se obtiene los datos referentes a mujeres solteras de la Región Metropolitana
# de acuerdo a la muestra obtenida anteriormente
mujeres_solteras_rm <- muestra_hogares %>% filter(sexo == "Mujer" &
ecivil == "Soltero(a)" &
regios == "Region Metropolitana de Santiago")
# Se obtiene los datos referentes a mujeres solteras de la Región Metropolitana
# de acuerdo a la muestra obtenida anteriormente
mujeres_solteras_rm <- muestra_hogares %>% filter(sexo == "Mujer" &
ecivil == "Soltero(a)" &
region == "Region Metropolitana de Santiago")
# Se extrae el número de hombres y mujeres solteras de acuerdo a la muestra obtenida
n_hombres_solteros <- nrow(hombres_solteros_rm)
n_mujeres_solteras <- nrow(mujeres_solteras_rm)
# Crear un dataframe con los datos
datos_solteros <- data.frame(Grupo = c("Hombres",
"Mujeres"),
Cantidad = c(n_hombres_solteros,
n_mujeres_solteras))
g4 <- ggplot(datos_solteros, aes(x = Grupo, y = Cantidad, fill = Grupo)) +
geom_bar(stat = "identity") +
labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Distribución de la variable sexo") +
theme_minimal()
print(g4)
View(hombres_solteros_rm)
View(muestra_hogares)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros_rm <- muestra_hogares %>% filter(sexo == "Hombre")
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras_rm <- muestra_hogares %>% filter(sexo == "Mujer")
# Se extrae el número de hombres y mujeres solteras de acuerdo a la muestra obtenida
n_hombres_solteros <- nrow(hombres_solteros_rm)
n_mujeres_solteras <- nrow(mujeres_solteras_rm)
# Crear un dataframe con los datos
datos_solteros <- data.frame(Grupo = c("Hombres",
"Mujeres"),
Cantidad = c(n_hombres_solteros,
n_mujeres_solteras))
# Se crea el grafico correspondiente
g3 <- ggplot(datos_solteros, aes(x = Grupo, y = Cantidad, fill = Grupo)) +
geom_bar(stat = "identity") +
labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Distribución de la variable sexo") +
theme_minimal()
print(g3)
View(datos_solteros)
# Se crea el grafico correspondiente
g3 <- ggplot(datos_solteros, aes(x = Grupo, y = Cantidad, fill = Grupo)) +
geom_bar(stat = "identity") +
labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Hombres solteros v/S Mujeres solteras") +
theme_minimal()
print(g3)
# En este punto, se identifica que debemos para comparar una variable continua (media)
# en dos muestras independientes. Por lo que, en este caso, una buena alternativa robusta
# es la prueba de Yuen con bootstrapping usando como estimador la media.
B <- 5000
# Se establece el alfa:
alfa <- 0.05
# Se realiza la prueba anteriormente descrita
prueba_yuen <- pb2gen(ypercap ~ sexo, data = datos_solteros, est = "mean", nboot = B)
# Se realiza la prueba anteriormente descrita
prueba_yuen <- pb2gen(datos_solteros$Cantidad ~ sexo, data = datos_solteros, est = "mean", nboot = B)
# Se realiza la prueba anteriormente descrita
prueba_yuen <- pb2gen(datos_solteros$Cantidad ~ datos_solteros$Grupo, data = datos_solteros, est = "mean", nboot = B)
print(prueba_yuen)
# Se realiza la prueba anteriormente descrita
prueba_yuen <- pb2gen(muestra_hogares$region ~ muestra_hogares$sexo, data = muestra_hogares, est = "mean", nboot = B)
# Se realiza la prueba anteriormente descrita
prueba_yuen <- pb2gen(muestra_hogares$sexo ~ muestra_hogares$region, data = muestra_hogares, est = "mean", nboot = B)
print(prueba_yuen)
# Se realiza la prueba anteriormente descrita
prueba_yuen <- pb2gen(datos_solteros$Cantidad ~ datos_solteros$Grupo, data = datos_solteros, est = "mean", nboot = B)
print(prueba_yuen)
# Calcular la cantidad de hombres y mujeres por región
hombres_por_region <- muestra_hogares %>% filter(sexo == "Hombre") %>% count(region)
if (!require(dplyr)) {
install.packages("dplyr", dependencies = TRUE)
require(dplyr)
}
if (!require(ggpubr)) {
install.packages("ggpubr", dependencies = TRUE)
require(ggpubr)
}
if(!require(tidyr)){
install.packages("tidyr", dependencies = TRUE)
require(tidyr)
}
if(!require(WRS2)){
install.packages("tidyr", dependencies = TRUE)
require(WRS2)
}
# Cargar datos
datos <- read.csv2(file.choose(), stringsAsFactors = TRUE)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros_rm <- muestra_hogares %>% filter(sexo == "Hombre")
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras_rm <- muestra_hogares %>% filter(sexo == "Mujer")
# Se extrae el número de hombres y mujeres solteras de acuerdo a la muestra obtenida
n_hombres_solteros <- nrow(hombres_solteros_rm)
n_mujeres_solteras <- nrow(mujeres_solteras_rm)
# Crear un dataframe con los datos
datos_solteros <- data.frame(Grupo = c("Hombres",
"Mujeres"),
Cantidad = c(n_hombres_solteros,
n_mujeres_solteras))
# Se crea el grafico correspondiente
g3 <- ggplot(datos_solteros, aes(x = Grupo, y = Cantidad, fill = Grupo)) +
geom_bar(stat = "identity") +
labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Hombres solteros v/S Mujeres solteras") +
theme_minimal()
print(g3)
# En este punto, se identifica que debemos para comparar una variable continua (media)
# en dos muestras independientes. Por lo que, en este caso, una buena alternativa robusta
# es la prueba de Yuen con bootstrapping usando como estimador la media.
B <- 5000
# Se establece el alfa:
alfa <- 0.05
# Calcular la cantidad de hombres y mujeres por región
hombres_por_region <- muestra_hogares %>% filter(sexo == "Hombre") %>% count(region)
mujeres_por_region <- muestra_hogares %>% filter(sexo == "Mujer") %>% count(region)
# Unir los datos con la tabla existente
muestra_hogares <- merge(muestra_hogares, hombres_por_region, by = "region", all.x = TRUE)
muestra_hogares <- merge(muestra_hogares, mujeres_por_region, by = "region", all.x = TRUE)
# Renombrar las columnas
colnames(muestra_hogares)[5] <- "Hombres_por_region"
colnames(muestra_hogares)[6] <- "Mujeres_por_region"
View(muestra_hogares)
# Renombrar las columnas
colnames(muestra_hogares)[5] <- "Hombres_por_region"
colnames(muestra_hogares)[5] <- "Mujeres_por_region"
prueba_yuen <- pb2gen(Hombres_por_region + Mujeres_por_region ~ sexo, data = muestra_hogares, est = "mean", nboot = B)
# Renombrar las columnas
colnames(muestra_hogares)[5] <- "Hombres_por_region"
colnames(muestra_hogares)[6] <- "Mujeres_por_region"
# Renombrar las columnas
colnames(muestra_hogares)[4] <- "Hombres_por_region"
colnames(muestra_hogares)[5] <- "Mujeres_por_region"
prueba_yuen <- pb2gen(hombres_por_region + mujeres_por_region ~ sexo, data = muestra_hogares, est = "mean", nboot = B)
# Crear nueva columna con la suma de hombres y mujeres por región
muestra_hogares$Total_por_region <- muestra_hogares$Hombres_por_region + muestra_hogares$Mujeres_por_region
# Reemplazar NA por 0
muestra_hogares$Hombres_por_region <- replace(muestra_hogares$Hombres_por_region, is.na(muestra_hogares$Hombres_por_region), 0)
muestra_hogares$Mujeres_por_region <- replace(muestra_hogares$Mujeres_por_region, is.na(muestra_hogares$Mujeres_por_region), 0)
# Calcular la cantidad de hombres y mujeres por región
hombres_por_region <- muestra_hogares %>% filter(sexo == "Hombre") %>% count(region)
mujeres_por_region <- muestra_hogares %>% filter(sexo == "Mujer") %>% count(region)
# Unir los datos con la tabla existente
muestra_hogares <- merge(muestra_hogares, hombres_por_region, by = "region", all.x = TRUE)
muestra_hogares <- merge(muestra_hogares, mujeres_por_region, by = "region", all.x = TRUE)
# Renombrar las columnas
colnames(muestra_hogares)[4] <- "Hombres_por_region"
colnames(muestra_hogares)[5] <- "Mujeres_por_region"
# Reemplazar NA por 0
muestra_hogares$Hombres_por_region <- replace(muestra_hogares$Hombres_por_region, is.na(muestra_hogares$Hombres_por_region), 0)
muestra_hogares$Mujeres_por_region <- replace(muestra_hogares$Mujeres_por_region, is.na(muestra_hogares$Mujeres_por_region), 0)
# Crear nueva columna con la suma de hombres y mujeres por región
muestra_hogares$Total_por_region <- muestra_hogares$Hombres_por_region + muestra_hogares$Mujeres_por_region
# Cargar datos
datos <- read.csv2(file.choose(), stringsAsFactors = TRUE)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros_rm <- muestra_hogares %>% filter(sexo == "Hombre")
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras_rm <- muestra_hogares %>% filter(sexo == "Mujer")
# Se extrae el número de hombres y mujeres solteras de acuerdo a la muestra obtenida
n_hombres_solteros <- nrow(hombres_solteros_rm)
n_mujeres_solteras <- nrow(mujeres_solteras_rm)
# Crear un dataframe con los datos
datos_solteros <- data.frame(Grupo = c("Hombres",
"Mujeres"),
Cantidad = c(n_hombres_solteros,
n_mujeres_solteras))
# Se crea el grafico correspondiente
g3 <- ggplot(datos_solteros, aes(x = Grupo, y = Cantidad, fill = Grupo)) +
geom_bar(stat = "identity") +
labs(x = "Sexo", y = "Frecuencia") +
ggtitle("Hombres solteros v/S Mujeres solteras") +
theme_minimal()
print(g3)
# En este punto, se identifica que debemos para comparar una variable continua (media)
# en dos muestras independientes. Por lo que, en este caso, una buena alternativa robusta
# es la prueba de Yuen con bootstrapping usando como estimador la media.
B <- 5000
# Se establece el alfa:
alfa <- 0.05
# Calcular la cantidad de hombres y mujeres por región
hombres_por_region <- muestra_hogares %>% filter(sexo == "Hombre") %>% count(region)
mujeres_por_region <- muestra_hogares %>% filter(sexo == "Mujer") %>% count(region)
# Unir los datos con la tabla existente
muestra_hogares <- merge(muestra_hogares, hombres_por_region, by = "region", all.x = TRUE)
muestra_hogares <- merge(muestra_hogares, mujeres_por_region, by = "region", all.x = TRUE)
# Renombrar las columnas
colnames(muestra_hogares)[4] <- "Hombres_por_region"
colnames(muestra_hogares)[5] <- "Mujeres_por_region"
View(datos)
View(muestra_hogares)
# Reemplazar NA por 0
muestra_hogares$Hombres_por_region <- replace(muestra_hogares$Hombres_por_region, is.na(muestra_hogares$Hombres_por_region), 0)
muestra_hogares$Mujeres_por_region <- replace(muestra_hogares$Mujeres_por_region, is.na(muestra_hogares$Mujeres_por_region), 0)
# Crear nueva columna con la suma de hombres y mujeres por región
muestra_hogares$Total_por_region <- muestra_hogares$Hombres_por_region + muestra_hogares$Mujeres_por_region
# Realizar la prueba de Yuen
prueba_yuen <- pb2gen(Total_por_region ~ sexo, data = muestra_hogares, est = "mean", nboot = B)
print(prueba_yuen)
# Eliminar filas duplicadas
muestra_hogares <- distinct(muestra_hogares, .keep_all = TRUE)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(region, Hombres_por_region, Mujeres_por_region, Total_por_region)
# Eliminar filas duplicadas
muestra_hogares <- distinct(muestra_hogares, .keep_all = TRUE)
# Realizar la prueba de Yuen
prueba_yuen <- pb2gen(Total_por_region ~ region, data = muestra_hogares, est = "mean", nboot = B)
print(prueba_yuen)
if (!require(dplyr)) {
install.packages("dplyr", dependencies = TRUE)
require(dplyr)
}
if (!require(ggpubr)) {
install.packages("ggpubr", dependencies = TRUE)
require(ggpubr)
}
if(!require(tidyr)){
install.packages("tidyr", dependencies = TRUE)
require(tidyr)
}
if(!require(WRS2)){
install.packages("tidyr", dependencies = TRUE)
require(WRS2)
}
# Cargar datos
datos <- read.csv2(file.choose(), stringsAsFactors = TRUE)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros_rm <- muestra_hogares %>% filter(sexo == "Hombre")
View(hombres_solteros_rm)
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros<- muestra_hogares %>% filter(sexo == "Hombre")
# Obtenemos la cantidad de hombres por region
hombres_por_region <- hombres_solteros %>% group_by(region) %>% count()
View(hombres_por_region)
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras <- muestra_hogares %>% filter(sexo == "Mujer")
# Obtenemos la cantidad de hombres por region
mujeres_por_region <- mujeres_solteras %>% group_by(region) %>% count()
View(mujeres_por_region)
# Completar las regiones sin hombres y sin mujeres solter@s con un valor de cero
hombres_por_region <- hombres_por_region %>% complete(region, fill = list(n = 0))
# Completar las regiones sin hombres y sin mujeres solter@s con un valor de cero
hombres_por_region <- hombres_por_region %>% complete(region, fill = list(n = 0))
# Completar las regiones sin hombres solteros con un valor de cero (0)
hombres_por_region <- hombres_por_region %>% complete(region, fill = list(n = 0))
# Completar las regiones sin hombres solteros con un valor de cero (0)
hombres_por_region <- hombres_por_region %>% complete(hombres_por_region$region, fill = list(n = 0))
mujeres_por_region <- mujeres_por_region %>% complete(mujeres_por_region$region, fill = list(n = 0))
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros<- muestra_hogares %>% filter(sexo == "Hombre")
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras <- muestra_hogares %>% filter(sexo == "Mujer")
# Obtenemos la cantidad de hombres por region
mujeres_por_region <- mujeres_solteras %>% group_by(region) %>% count()
# Completar las regiones sin hombres y sin mujeres solter@s con un valor de cero
hombres_por_region <- hombres_por_region %>% complete(region, fill = list(n = 0))
mujeres_por_region <- mujeres_por_region %>% complete(region, fill = list(n = 0))
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros<- muestra_hogares %>% filter(sexo == "Hombre")
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras <- muestra_hogares %>% filter(sexo == "Mujer")
# Obtenemos la cantidad de hombres por region
mujeres_por_region <- mujeres_solteras %>% group_by(region) %>% count()
# Se extrae el número de hombres y mujeres solteras de acuerdo a la muestra obtenida
n_hombres_solteros <- nrow(hombres_solteros_rm)
n_mujeres_solteras <- nrow(mujeres_solteras_rm)
datos2 <- data.frame(hombres_por_region,mujeres_por_region)
View(datos2)
# Realizar la unión por la columna "region"
tabla_final <- merge(hombres_por_region, mujeres_por_region, by = "region", all = TRUE)
View(tabla_final)
View(mujeres_por_region)
# Renombrar las columnas
colnames(tabla_final)[1] <- "Hombresn"
colnames(muestra_hogares)[2] <- "Mujeres"
# Renombrar las columnas
colnames(tabla_final)[1] <- "Hombres"
View(tabla_final)
colnames(tabla_final)[2] <- "Mujeres"
# Renombrar las columnas
colnames(tabla_final)[2] <- "Hombres"
colnames(tabla_final)[3] <- "Mujeres"
# Realizar la unión por la columna "region"
sexo <- factor(c(rep("A", length(hombres_por_region)), rep("B", length(mujeres_por_region))))
# Realizar la unión por la columna "region"
sexo <- factor(c(rep("Hombres", length(hombres_por_region)), rep("Mujeres", length(mujeres_por_region))))
cantidad <- c(hombres_por_region, mujeres_por_region)
datos2 <- data.frame(sexo, cantidad)
# Realizar la unión por la columna "region"
sexo <- factor(c(rep("Hombres", length(hombres_por_region)), rep("Mujeres", length(mujeres_por_region) + 1)))
cantidad <- c(hombres_por_region, mujeres_por_region)
datos2 <- data.frame(sexo, cantidad)
View(tabla_final)
# Realizar la unión por la columna "region"
tabla_temporal <- merge(hombres_por_region, mujeres_por_region, by = "region", all = TRUE)
# Renombrar las columnas
colnames(tabla_final)[2] <- "Hombres"
colnames(tabla_final)[3] <- "Mujeres"
# Renombrar las columnas
colnames(tabla_temporal)[2] <- "Hombres"
colnames(tabla_temporal)[3] <- "Mujeres"
# Reemplazar NA por 0
tabla_temporal$Hombres <- replace(tabla_temporal$Hombres, is.na(tabla_temporal$Hombres), 0)
tabla_temporal$Mujeres <- replace(tabla_temporal$Mujeres, is.na(tabla_temporal$Mujeres), 0)
# Reemplazar NA por 0
tabla_temporal$Hombres <- replace(tabla_temporal$Hombres, is.na(tabla_temporal$Hombres), 0)
tabla_temporal$Mujeres <- replace(tabla_temporal$Mujeres, is.na(tabla_temporal$Mujeres), 0)
View(tabla_temporal)
# creamos la tabla final
sexo <- factor(c(rep("Hombres", length(tabla_temporal$Hombres)), rep("Mujeres", length(tabla_temporal$Mujeres))))
cantidad <- c(tabla_temporal$Hombres, tabla_temporal$Mujeres)
datos2 <- data.frame(sexo, cantidad)
View(datos2)
if (!require(dplyr)) {
install.packages("dplyr", dependencies = TRUE)
require(dplyr)
}
if (!require(ggpubr)) {
install.packages("ggpubr", dependencies = TRUE)
require(ggpubr)
}
if (!require(dplyr)) {
install.packages("dplyr", dependencies = TRUE)
require(dplyr)
}
if (!require(ggpubr)) {
install.packages("ggpubr", dependencies = TRUE)
require(ggpubr)
}
if(!require(tidyr)){
install.packages("tidyr", dependencies = TRUE)
require(tidyr)
}
if(!require(WRS2)){
install.packages("tidyr", dependencies = TRUE)
require(WRS2)
}
# Cargar datos
datos <- read.csv2(file.choose(), stringsAsFactors = TRUE)
# A continuación se fija una semilla propia
set.seed(349)
# Se selecciona una muestra aleatoria de hogares considerando: 250 < n < 500
muestra_hogares <- sample_n(datos, 369)
# Se seleccionan los datos de interés según la interrogante propuesta
muestra_hogares <- muestra_hogares %>% select(sexo, region, ecivil)
# Se filtra por todas las personas que tienen un estado civil Soltero(a).
muestra_hogares <- muestra_hogares %>% filter(ecivil == "Soltero(a)")
# Se obtiene los datos referentes a hombres solteros de acuerdo a la muestra obtenida anteriormente
hombres_solteros<- muestra_hogares %>% filter(sexo == "Hombre")
# Se obtiene los datos referentes a mujeres solteras de acuerdo a la muestra obtenida anteriormente
mujeres_solteras <- muestra_hogares %>% filter(sexo == "Mujer")
# Obtenemos la cantidad de hombres por region
mujeres_por_region <- mujeres_solteras %>% group_by(region) %>% count()
# Realizar la unión por la columna "region"
tabla_temporal <- merge(hombres_por_region, mujeres_por_region, by = "region", all = TRUE)
# Obtenemos la cantidad de hombres por region y mujeres por region
hombres_por_region <- hombres_solteros %>% group_by(region) %>% count()
mujeres_por_region <- mujeres_solteras %>% group_by(region) %>% count()
# Realizar la unión por la columna "region"
tabla_temporal <- merge(hombres_por_region, mujeres_por_region, by = "region", all = TRUE)
# Renombrar las columnas
colnames(tabla_temporal)[2] <- "Hombres"
colnames(tabla_temporal)[3] <- "Mujeres"
# Reemplazar NA por 0
tabla_temporal$Hombres <- replace(tabla_temporal$Hombres, is.na(tabla_temporal$Hombres), 0)
tabla_temporal$Mujeres <- replace(tabla_temporal$Mujeres, is.na(tabla_temporal$Mujeres), 0)
# creamos la tabla final
sexo <- factor(c(rep("Hombres", length(tabla_temporal$Hombres)), rep("Mujeres", length(tabla_temporal$Mujeres))))
cantidad <- c(tabla_temporal$Hombres, tabla_temporal$Mujeres)
datos2 <- data.frame(sexo, cantidad)
View(datos2)
# Construimos el histograma de los datos.
g3 <- gghistogram(datos2, x = "cantidad Solteros", xlab = "sexo", color = "sexo",
fill = "sexo", bins = 5)
g3 <- g3 + facet_grid(~ sexo)
print(g3)
# Construir el histograma de los datos
g3 <- ggplot(datos2, aes(x = cantidad, fill = sexo)) +
geom_histogram(binwidth = 5, position = "identity") +
facet_grid(~ sexo) +
labs(x = "Cantidad de Solteros(as)", y = "Frecuencia", fill = "Sexo")
# Mostrar el gráfico
print(g3)
# Veamos ahora el histograma de los datos.
g3 <- gghistogram(datos2, x = "cantidad", xlab = "sexo", color = "sexo",
fill = "sexo", bins = 30)
g3 <- g3 + facet_grid(~ sexo)
print(g3)
# En este punto, se identifica que debemos para comparar una variable continua (media)
# en dos muestras independientes. Por lo que, en este caso, una buena alternativa robusta
# es la prueba de Yuen con bootstrapping usando como estimador la media.
B <- 5000
# Se establece el alfa:
alfa <- 0.05
prueba_yuen_boots <- pb2gen(cantidad ~ sexo, data = datos2, est = "mean",nboot = B)
print(prueba.2)
print(prueba_yuen_boots)
